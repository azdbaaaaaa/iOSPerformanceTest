# iOS专项测试报告

***
## 目的
用评分的形式通过**性能、稳定性**等两方面对APP进行评估

## 总分
||占比|总分|总得分|
|---|---|---|---|
|性能|80%|80|67|
|稳定性|20%|20|10|
|Total|100%|100|77|

## 检测项
### 性能
|名称|场景|检查点|总分|权重|得分|
|---|---|---|---|---|---|
|启动时间|热启动时间|启动时间不超过2秒|80|10%|8|
|页面加载时间|场景1：XXX|主要业务场景加载时间不超过2秒|80|10%|8|
|页面加载时间|场景2：XXX|主要业务场景加载时间不超过2秒|80|10%|8|
|页面加载时间|场景3：XXX|主要业务加载时间不超过2秒|80|10%|8|
|流量|场景1：XXX|主要页面流量不超过200KB|80|10%|8|
|流量|场景2：XXX|主要页面流量不超过200KB|80|10%|8|
|流量|场景3：XXX|主要页面流量不超过200KB|80|10%|8|
|内存|场景：手动各页面浏览|实际使用内存不超过80M|80|10%|8|
|内存|场景：手动各页面浏览|没有明显内存抖动|80|10%|8|
|内存|场景：手动各页面浏览|没有内存泄漏|80|10%|8|
|流畅度|-|-|-|-|-|
|耗电量|-|-|-|-|-|
|Total|-|-|80|100%|80|

### 稳定性
|名称|场景|检查点|总分|权重|得分|
|---|---|---|---|---|---|
|Monkey测试|无网络持续运行1个小时|异常概率小于7‰|20|20%|4|
|Monkey测试|弱网络持续运行1个小时|异常概率小于7‰|20|20%|4|
|Monkey测试|正常网络持续运行1个小时|异常概率小于7‰|20|20%|4|
|Monkey测试|无后台进程持续1个小时|异常概率小于7‰|20|20%|4|
|Monkey测试|系统CPU>80%持续运行1个小时|异常概率小于7‰|20|20%|4|
|Total|-|-|20|100%|20|

## 报告详情：
## 0x00 测试设备信息
|手机型号|手机系统|
|---|---|---|
|iPhone6P|9.2.1|

## 0x01 启动时间
### 背景信息
> **测试方法1：**`instruments`中的`Time Profiler`
> 
> 1.Profiler你的app  
> 2.然后查看切换到**CPU strategy view**，找到你的app启动的第一帧  
> 3.搜索**[UIApplication _reportAppLaunchFinished]**，
> 找到包含**[UIApplication _reportAppLaunchFinished]**的
> 最后一帧，即可计算出启动时间  
> *PS:9.0以上系统可以搜**_reportMainSceneUpdateFinished***
> 
> **测试方法2：**`NSLog`  
> 
> 在iOS源码中打log。  
> **优点：**易优化，能清楚的定位到程序员编写的代码执行的时间；  
> **缺点：**得到的结果并不是用户实际感知到的时间
> 
> **测试方法3：**使用第三方录屏工具
> 
> **优点：**得到的结果与用户实际感知的时间相一致；  
> **缺点：**无法做成自动化，比较费时；无法统计本地代码与服务器请求各花费多少时间

### 场景
-----------------------可视化图表（ToBeDone）-------------

|WiFi|第一次|第二次|第三次|
|---|---|---|---|---|
|热启动进行妈妈帮首页|

### 策略
* **首先，**需要采取第三种方法站在用户的角度来看应用的启动时间，因为这是最重要的指标，用户能感知到的时间。
* **其次，**需要开发配合使用第二种方法在源码中插桩来看客户端逻辑层中花费的时间，以及收集服务端响应时间，来优化。
* **最后，**以用户感知时间为标准，不断的进行优化。
* 需要关注不同网络情况下的启动时间

## 0x02 页面加载时间
### 背景信息
> 页面加载时间与启动时间统计方法基本类似，但是由于页面加载时调用的方法不容易统计，所以无法使用上述第一种方法统计,（但是开发还是可以使用`Time Profile`来定位一些问题）
> 
> **测试方法2：**`NSLog`
> 
> **测试方法3：**使用第三方录屏工具

### 场景
-----------------------可视化图表（ToBeDone）-------------

||第一次|第二次|...|第十次|
|---|---|---|---|---|
|进入帮列表页面|
|进入妈妈帮首页|
|...|

### 策略
* 同启动时间策略

## 0x03 流量统计

### 背景信息
> **测试方法1：** `instruments`中的`Network Activity`  
> **测试方法2：** 直接用Xcode真机Debug

### 场景

||第一次|第二次|第三次|
|---|---|---|---|---|
|进入帮列表页面|
|进入妈妈帮首页|
|...|

### 策略
* 同启动时间

## 0x04 内存
||平均值|最大值|最小值|
|---|---|---|---|
|实际内存(MB)|NA|NA|NA|
|~~虚拟内存(MB)~~|NA|NA|NA|


~~可视化图表~~

## 0x05 CPU
||平均值|最大值|最小值|
|---|---|---|---|
|cpu使用率(%)|NA|NA|NA|

图表

## 0x06 内存泄漏
可以直接用Xcode真机Debug  
`Activity Monitor`  
内存泄漏`Leaks`
## 0x07 CrashMonkey4IOS
- 无网络持续运行1个小时
- 弱网络持续运行1个小时
- 正常网络持续运行1个小时
- 无后台进程持续1个小时
- 系统CPU>80%持续运行1个小时
